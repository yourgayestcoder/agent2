<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Finn — AI Agents for Business (Dark)</title>

  <style>
    @font-face{
      font-family: 'VinciSans';
      src: url('https://civilpromaws.s3.eu-north-1.amazonaws.com/defibeoMAIN.otf') format('opentype');
      font-weight: 100 !important;
      font-style: normal;
      font-display: swap;
    }

        @font-face{
      font-family: 'VinciBig';
      src: url('https://civilpromaws.s3.eu-north-1.amazonaws.com/agent.otf') format('opentype');
      font-weight: 100 !important;
      font-style: normal;
      font-display: swap;
    }

    

    /* force the provided font everywhere */
    *,*::before,*::after{box-sizing:border-box;font-family:VinciSans,system-ui,-apple-system,'Segoe UI',Roboto,Arial!important}

    :root{
      --bg: #0049c6;
      --text: #ffffff;
      --muted: rgba(255,255,255,0.75);
      --muted-2: rgba(255,255,255,0.6);
      --border: rgba(255,255,255,0.12);
      --accent:#6f8cff;
      --accent-2:#6366f1;
      --orange:#ff7b00;
      --max:900px;
    }

    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    a{color:inherit}

    .wrap{max-width:1200px;margin:0 auto;padding:28px 18px}

    /* SECTION 1 */
    .hero{ 
display: grid;
grid-template-columns: 3fr 2fr;
gap: 30px;
align-items: center;
max-width: 1000px;
margin: 0 auto;
    }
    .hero-left{max-width:var(--max)}
    .eyebrow{font-size:13px;color:var(--muted);margin-bottom:8px}
    h1{font-size:38px;line-height:1.02;margin:8px 0;color:var(--text)}

.typed-wrap{

    font-family: 'VinciBig' !important;
    color: #16ffbd !important;
    border: 1px solid #1459cf;
    padding: 12px 20px;
    border-radius: 20px;
    background: #0642a7;
    font-weight: 100 !important;
    display: inline-block;
    position: relative;

}
    .typed-cursor {

      display: inline-block;
    width: 2.5px;
    background: #16ffbd;
    margin-left: 6px;
    height: 40px;
    margin-bottom: -4px;
    vertical-align: baseline;
    animation: blink 1s steps(2) infinite;

    }
    @keyframes blink{50%{opacity:0}}

    p.lead{color:var(--muted);max-width:700px;margin-top:12px}
    .cta-row{margin-top:18px}
    .btn{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:0;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.5)}

    .hero-right img{width:100%;border-radius:12px;display:block;border:1px solid var(--border)}

    /* SECTION 2 - full-width */
    .feature-hero{position:relative;margin-top:36px;width:100vw;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;overflow:hidden}
    .feature-hero .bg{background-size:cover;background-position:center;height:260px;width:100%}
    .feature-hero .overlay{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(0,0,0,0.35));display:flex;align-items:center;justify-content:center}
    .feature-hero .content{text-align:center;color:var(--text);max-width:var(--max);padding:20px}
    .feature-hero h2{color:var(--text);margin:0 0 8px 0}
    .feature-hero .lead{color:var(--muted)}

    /* SECTION 3 */
    .three-cols{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:36px}
    .card-3{padding:18px;border-radius:10px;border:1px solid var(--border);text-align:center;background:rgba(255,255,255,0.02)}
    .card-3 img{width:72px;height:72px;object-fit:cover;margin-bottom:12px;border-radius:8px}
    .card-3 h3{margin:6px 0;color:var(--text)}
    .card-3 p{color:var(--muted);font-size:14px}

    /* SECTION 4 */
    .six-col{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;margin-top:36px}
    .six-col .col{display:flex;flex-direction:column;gap:10px}
    .item{display:flex;gap:8px;align-items:center;padding:10px;border-radius:8px;border:1px solid var(--border);background:rgba(255,255,255,0.02)}
    .item img{width:44px;height:44px;border-radius:6px;object-fit:cover}
    .item .meta{font-size:13px;color:var(--text)}
    .item .meta b{display:block}
    .item .muted{color:var(--muted)}

    /* SECTION 5 */
    .footer-hero{position:relative;margin-top:36px;width:100vw;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;overflow:hidden}
    .footer-hero .bg{background-size:cover;background-position:center;height:320px;width:100%}
    .footer-hero .overlay{position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,0.6),rgba(0,0,0,0.4));display:flex;align-items:center}
    .footer-hero .inner{max-width:900px;padding:28px;color:var(--text)}
    .footer-hero h2{color:var(--text)}
    .footer-hero .lead{color:var(--muted)}
    .footer-hero .links{margin-top:16px;color:var(--muted-2);font-size:13px}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:80}
    .modal{width:95%;max-width:1000px;height:85vh;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;overflow:auto;border:1px solid var(--border)}
    .modal .close{position:absolute;right:18px;top:12px;z-index:90;background:rgba(255,255,255,0.03);color:var(--text);border:1px solid var(--border);padding:8px;border-radius:8px;cursor:pointer}
    .modal .frame{width:100%;height:100%;border:0;border-radius:12px;background:transparent}

    /* responsive */
    @media (max-width:900px){
      .hero{grid-template-columns:1fr;gap:18px}
      .three-cols{grid-template-columns:1fr}
      .six-col{grid-template-columns:repeat(2,1fr)}
      .feature-hero .bg{height:220px}
      .footer-hero .bg{height:220px}
    }
    @media (max-width:480px){
      .six-col{grid-template-columns:1fr}
    }

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: flex; /* passe à flex quand ouvert */
  align-items: center;
  justify-content: center;
  z-index: 80;
}

.modal {
  width: 95%;
  max-width: 900px;
  max-height: 85vh;
  background: var(--bg);
  border-radius: 12px;
  overflow: auto;
  border: 1px solid var(--border);
  padding: 20px;
  position: relative;
}

.modal .close {
  position: absolute;
  right: 18px;
  top: 12px;
  z-index: 90;
  background: rgba(255,255,255,0.03);
  color: var(--text);
  border: 1px solid var(--border);
  padding: 8px;
  border-radius: 8px;
  cursor: pointer;
}


    html,body{height:100%;margin:0;padding:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

    /* Modal overlay + card */
    .onboarding-modal-backdrop {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .onboarding-modal-card {
      width: 95%;
      max-width: var(--max-width);
      max-height: 90vh;
      background: var(--bg);
      border-radius: var(--radius);
      overflow-y: auto;
      position: relative;
      padding-bottom: 20px;
    }
    .onboarding-close {
      position: absolute; top:12px; right:16px;
      background: transparent; border:none; font-size:18px; cursor:pointer;
    }

    /* Topbar */
    .topbar{
      position:sticky;top:0;z-index:40;
      backdrop-filter: blur(6px);
      background:linear-gradient(180deg, rgba(255,255,255,0.88), rgba(255,255,255,0.7));
      border-bottom:1px solid rgba(11,18,32,0.04);
      padding:10px 12px;display:block;width:100%;
    }
    .topbar-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;gap:8px;overflow:auto;padding:6px 4px}
    .step-btn{
      flex:0 0 auto;padding:8px 12px;border-radius:999px;border:1px solid transparent;font-weight:700;cursor:pointer;white-space:nowrap;font-size:13px;margin-right:8px;
    }
    .step-btn.current{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white}
    .step-btn.past{background:transparent;color:var(--text);opacity:1;border:1px solid rgba(11,18,32,0.06)}
    .step-btn.upcoming{opacity:0.5;color:var(--muted)}

    /* Page container */
    .page{width:100%;display:block;padding:20px 12px 80px}
    .container{width:100%;max-width:var(--max-width);margin:0 auto}

    h1,h2{margin:0 0 8px 0}
    .lead{color:var(--muted);font-size:13px;margin-bottom:12px}

    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:12px;padding:20px;min-height:300px;display:flex;flex-direction:column;gap:14px;border:1px solid rgba(11,18,32,0.04)}

    .form-row{display:flex;gap:12px;flex-wrap:wrap}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}

    input[type='text'], input[type='email'], input[type='url'], input[type='tel'], textarea, select, .color-swatch, .color-input, button{
      font-family: VinciSans, inherit; font-size:15px; line-height:1.3
    }

    input[type='text'], input[type='email'], input[type='url'], input[type='tel'], textarea, select, .color-swatch, .color-input{
      width:100%;padding:10px;border-radius:10px;border:1px solid #e6e9ef;background:transparent
    }
    textarea{min-height:110px;resize:vertical}

    select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:none}

    input:focus, textarea:focus, select:focus, button:focus, .color-input:focus{outline:none;box-shadow:0 0 0px 6px #6f8cff29}
    input:hover, textarea:hover, select:hover, button:hover, .color-input:hover{box-shadow:0 0 0px 6px #6f8cff29}

    .field-half{flex:1 1 48%}
    .field-full{flex:1 1 100%}

    .actions{display:flex;justify-content:space-between;align-items:center;margin-top:6px}
    .btn{padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:white;font-weight:700;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid #d1d5db;color:var(--text)}
    .btn.selected{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white}

    .resources{display:flex;flex-direction:column;gap:8px;max-height:260px;overflow:auto;padding-right:6px}
    .res-item{display:flex;gap:12px;align-items:center;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.04)}
    .res-item img{width:28px;height:28px;border-radius:6px;object-fit:cover}

    .themes{display:flex;gap:10px}
    .theme-card{flex:1;padding:14px;border-radius:12px;border:1px solid #e8eefc;display:flex;align-items:center;gap:12px;cursor:pointer}
    .theme-card input{display:none}
    .theme-card .preview{width:44px;height:44px;border-radius:8px}
    .theme-card.selected{box-shadow:0 0 0px 6px #6f8cff29;border-color:var(--accent-2)}

    .lang-toggle{display:flex;border-radius:10px;overflow:hidden;border:1px solid #e6e9ef}
    .lang-toggle button{flex:1;padding:10px;border:0;background:transparent;cursor:pointer}
    .lang-toggle button.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white}

    .more-ui{display:flex;align-items:center;gap:10px;margin-bottom:6px}
    .more-ui input{width:18px;height:18px}

    .hidden{display:none}

    @media (max-width:720px){
      .field-half{flex:1 1 100%}
      .themes{flex-direction:column}
      .step-btn{padding:8px 10px}
    }

.selected {
  border-color: #6f8cff;
  background: rgba(111,140,255,0.1);
}

.lang-btn-modal.active {
  background: #6f8cff;
  color: white;
}

.helloagent {
font-family: VinciBig !important; 
font-weight: 100 !important;
cursor: default; 
font-size: 46px !important; 
line-height: 52px !important;
}


.nogirl {
    max-width: 700px;
    margin-top: 12px;
    font-size: 22px;
    font-weight: 100;
    cursor: default;
    font-family: 'VinciSans' !important;
    color: #fff;
    line-height: 33px;
}

.slut {
    font-family: 'VinciBig' !important;
    font-weight: 100 !important;
}

typed-target {
    font-family: 'VinciBig' !important;
    font-weight: 100 !important;
}






.option-groupK {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 16px;
  }

  .options-rowK {
    display:flex;
    gap:16px;
    flex-wrap:wrap;
  }

  .option-cardK {
    display:flex;
    align-items:center;
    gap:20px;
    padding:22px;
    border-radius:18px;
    border:2px solid rgba(255,255,255,0.2);
    background:transparent;
    cursor:pointer;
    min-width:260px;
    transition: border-color .18s ease, box-shadow .18s ease;
    user-select:none;
    -webkit-user-select:none;
    outline: none;
  }

  .option-cardK:focus {
    box-shadow: 0 0 0 4px rgba(0,123,255,0.12);
  }

  /* état sélectionné */
  .option-cardK.selectedK {
    border-width:4px;
    border-color: #1177ff; /* bleu épais */
    box-shadow: 0 6px 18px rgba(17,119,255,0.12);
  }

  /* radio visuel */
  .option-radioK {
    width:44px;
    height:44px;
    border-radius:50%;
    border:4px solid #111;
    display:flex;
    align-items:center;
    justify-content:center;
    flex: 0 0 44px;
    background: #fff;
  }

  .option-radioK .dotK {
    width:20px;
    height:20px;
    border-radius:50%;
    background: transparent;
    transition: background .12s ease, transform .12s ease;
    transform: scale(1);
  }

  .option-cardK.selectedK .option-radioK {
    border-color:#1177ff;
  }
  .option-cardK.selectedK .option-radioK .dotK {
    background:#1177ff;
    transform: scale(1);
  }

  .option-labelK {
    font-size:28px;
    line-height:1;
    color:inherit;
    white-space:nowrap;
  }

  .theme-darkK .option-cardK {
    color: white;
  }
  .theme-lightK .option-cardK {
    color: black;
    background: #fff;
  }

  .option-cardK input[type="radio"] {
    position: absolute;
    opacity: 0;
    pointer-events: none;
    width:0;
    height:0;
  }

  </style>
</head>
<body>

  <div class="wrap">

    <!-- SECTION 1 -->
    <section class="hero">
      <div class="hero-left">
        <div class="eyebrow">The #1 choice for Medium Business</div>
        <h1  class="helloagent">Your mini AI-help agent with easy setting-up for<br><span class="typed-wrap"><span class="slut" id="typed-target"></span><span class="typed-cursor" aria-hidden="true"></span></span></h1>
        <p class="nogirl">Deliver faster responses, automate repetitive tasks and scale your team's productivity with a customizable agent trained on your data.</p>
        <div class="cta-row">

<!-- Bouton -->
<button id="open-onboarding" class="btn">Create your Finn Agent</button>

<!-- Onboarding Modal -->
<div id="onboarding-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:100;align-items:center;justify-content:center;overflow:auto;">
  <div style="width:95%;max-width:900px;background:#17110f;border-radius:12px;padding:20px;position:relative;color:white;">
    <button id="close-onboarding" style="position:absolute;right:16px;top:12px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.2);padding:8px;border-radius:8px;color:white;cursor:pointer;">Cancel</button>

    <!-- Top sticky steps bar -->
    <div style="position:sticky;top:0;z-index:50;background:rgba(23,17,15,0.95);backdrop-filter:blur(6px);padding:10px 12px;border-bottom:1px solid rgba(255,255,255,0.1);display:block;">
      <div id="top-steps-modal" style="display:flex;gap:8px;overflow:auto;"></div>
    </div>

    <!-- Form container -->
    <div id="onboarding-content" style="padding-top:12px;">




      <!-- REGISTER -->
      <div class="step-panel" data-step="0">
        <p style="color:rgba(255,255,255,0.7)">Let's start creating your new AI mini-agent.</p>
        <div style="display:flex;flex-wrap:wrap;gap:12px;">
          <div style="flex:1 1 48%">
            <label>Agent name</label>
            <input id="agent_name_modal" type="text" placeholder="Ex: Clovis" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
          </div>
          <div style="flex:1 1 48%">
            <label>Your company</label>
            <input id="company_modal" type="text" placeholder="Ex: ClovisCorp" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
          </div>
          <div style="flex:1 1 100%">
            <label>Describe your agent</label>
            <input id="agent_desc_modal" type="text" placeholder="Ex: Helping customer with technical knowledge." style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
          </div>

          <div style="flex:1 1 48%">
            <label>Company size</label>
            <select id="company_size_modal" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
              <option>Less than 3</option>
              <option>Less than 5</option>
              <option>Less than 10</option>
              <option>Less than 50</option>
              <option>50 and more</option>
            </select>
          </div>
          <div style="flex:1 1 48%">
            <label>Industry</label>
            <select id="industry_modal" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
              <option>Retail</option>
              <option>Logistics</option>
              <option>Healthcare</option>
              <option>Education</option>
              <option>Hospitality</option>
              <option>Finance</option>
              <option>Technology</option>
              <option>Manufacturing</option>
              <option>Other</option>
            </select>
          </div>




<div style="display:flex;gap:16px;flex-wrap:wrap;">
  <!-- Groupe 1 : Agent Language -->
  <div style="flex:1 1 48%">
    <label style="display:block;margin-bottom:8px;font-weight:600;">Agent Language</label>
    <div class="option-groupK" id="agent_language_groupK">
      <input type="hidden" name="agent_languageK" id="agent_language_valueK" value="French">
      <div class="options-rowK">
        <div class="option-cardK" tabindex="0" role="radio" aria-checked="true" data-value="French" data-group="agent_languageK">
          <input type="radio" name="agent_language_radioK" checked>
          <div class="option-radioK"><div class="dotK"></div></div>
          <div class="option-labelK">French</div>
        </div>

        <div class="option-cardK" tabindex="0" role="radio" aria-checked="false" data-value="English" data-group="agent_languageK">
          <input type="radio" name="agent_language_radioK">
          <div class="option-radioK"><div class="dotK"></div></div>
          <div class="option-labelK">English</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Groupe 2 : Interface Theme -->
  <div style="flex:1 1 48%">
    <label style="display:block;margin-bottom:8px;font-weight:600;">Interface Theme</label>
    <div class="option-groupK" id="interface_theme_groupK">
      <input type="hidden" name="interface_themeK" id="interface_theme_valueK" value="Light">
      <div class="options-rowK">
        <div class="option-cardK" tabindex="0" role="radio" aria-checked="true" data-value="Light" data-group="interface_themeK">
          <input type="radio" name="interface_theme_radioK" checked>
          <div class="option-radioK"><div class="dotK"></div></div>
          <div class="option-labelK">Light</div>
        </div>

        <div class="option-cardK" tabindex="0" role="radio" aria-checked="false" data-value="Dark" data-group="interface_themeK">
          <input type="radio" name="interface_theme_radioK">
          <div class="option-radioK"><div class="dotK"></div></div>
          <div class="option-labelK">Dark</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  (function(){
    const cardsK = document.querySelectorAll('.option-cardK');

    function selectCardK(cardK) {
      const groupK = cardK.getAttribute('data-group');
      const valueK = cardK.getAttribute('data-value');

      // désélectionner tous du groupe
      document.querySelectorAll('.option-cardK[data-group="'+groupK+'"]').forEach(c => {
        c.classList.remove('selectedK');
        c.setAttribute('aria-checked','false');
        const r = c.querySelector('input[type="radio"]');
        if (r) r.checked = false;
      });

      // sélectionner le bon
      cardK.classList.add('selectedK');
      cardK.setAttribute('aria-checked','true');
      const radioK = cardK.querySelector('input[type="radio"]');
      if (radioK) radioK.checked = true;

      // mettre à jour l'input caché correspondant
      const hiddenK = document.getElementById(groupK + '_valueK');
      if (hiddenK) hiddenK.value = valueK;

      // déclenchement d’un éventuel événement custom
      const eventK = new CustomEvent('optionChangedK', { detail: { groupK, valueK } });
      document.dispatchEvent(eventK);
    }

    // initialisation
    cardsK.forEach(cardK => {
      const radioK = cardK.querySelector('input[type="radio"]');
      if (radioK && radioK.checked) {
        cardK.classList.add('selectedK');
        cardK.setAttribute('aria-checked','true');
      }
    });

    // clic et clavier
    cardsK.forEach(cardK => {
      cardK.addEventListener('click', () => selectCardK(cardK));
      cardK.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ' || e.key === 'Spacebar') {
          e.preventDefault();
          selectCardK(cardK);
        }
      });
    });
  })();
</script>





        </div>

        <div style="margin-top:14px;display:flex;justify-content:flex-end;">
          <button id="to-collect-modal" class="btn" style="display:none;background:#6f8cff;padding:10px 14px;border-radius:10px;color:white;font-weight:700;">Continue</button>
        </div>
      </div>



      <!-- COLLECT -->
<div class="step-panel" data-step="1" style="display:none;">
  <h2>COLLECT</h2>
  <p style="color:rgba(255,255,255,0.7)">Start adding sources (max 30).</p>
  <div style="display:flex;flex-wrap:wrap;gap:12px;align-items:flex-end;margin-bottom:12px;">
<input id="res_name_modal" type="text" placeholder="Resource name" style="flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
<input id="res_url_modal" type="url" placeholder="https://..." style="flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
<select id="res_class_modal" style="padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
  <option value="Internal doc">Internal doc</option>
  <option value="Website page">Website page</option>
  <option value="Manual">Manual</option>
  <option value="Presentation">Presentation</option>
  <option value="Other">Other</option>
</select>
<button id="add_res_modal" type="button" style="padding:10px 14px;background:#6f8cff;border:none;border-radius:10px;color:white;cursor:pointer;">Add</button>

  </div>
  <div id="resources_list_modal" style="max-height:200px;overflow:auto;display:flex;flex-direction:column;gap:6px;"></div>
  <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;">
    <button id="save_res_modal" style="display:none;padding:10px 14px;background:#6f8cff;border:none;border-radius:10px;color:white;cursor:pointer;">Save Resources</button>
    <button id="back-to-register-modal" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Back</button>
  </div>
</div>

<!-- INFERENCES -->
<div class="step-panel" data-step="2" style="display:none;">
  <h2>INFERENCES</h2>
  <p style="color:rgba(255,255,255,0.7)">Give guidelines to your agent about tone, limits, and behavior.</p>
  <div style="display:flex;flex-wrap:wrap;gap:12px;">
    <div style="flex:1 1 100%">
      <label>Guidelines</label>
      <textarea id="guidelines_modal" placeholder="Example: Always ask clarifying questions..." style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;min-height:100px;"></textarea>
    </div>
    <div style="flex:1 1 48%">
      <label>Support email</label>
      <input id="support_email_modal" type="email" placeholder="support@company.com" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
    </div>
    <div style="flex:1 1 48%">
      <label>Support phone</label>
      <input id="support_phone_modal" type="tel" placeholder="+33 6 12 34 56 78" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
    </div>
    <div style="flex:1 1 100%">
      <label>Support site (url)</label>
      <input id="support_url_modal" type="url" placeholder="https://support.company.com" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;">
    </div>
  </div>
  <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;">
    <button id="to-share-modal" style="display:none;padding:10px 14px;background:#6f8cff;border:none;border-radius:10px;color:white;cursor:pointer;">Next →</button>
    <button id="back-to-collect-modal" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Back</button>
  </div>
</div>



<!-- SHARE -->
<div class="step-panel" data-step="3" style="display:none;">
  <h2>SHARE</h2>
  <p style="color:rgba(255,255,255,0.7)">Who can use your agent and preferred channels.</p>

  <div style="margin-bottom:10px;">
    <label>Who can use your agent</label>
    <div style="display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;">
      <button class="aud-btn-modal" data-audience="internal" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Internal</button>
      <button class="aud-btn-modal" data-audience="b2c" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Customers B2C</button>
      <button class="aud-btn-modal" data-audience="b2b" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Customers B2B</button>
    </div>
  </div>

  <div style="margin-bottom:10px;">
    <label>Preferred channels</label>
    <div style="display:flex;gap:6px;flex-wrap:wrap;margin-top:4px;">
      <button class="ch-btn-modal" data-channel="hosted" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Hosted</button>
      <button class="ch-btn-modal" data-channel="embed" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Embed</button>
    </div>
  </div>

  <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;">
    <button id="to-subscribe-modal" style="display:none;padding:10px 14px;background:#6f8cff;border:none;border-radius:10px;color:white;cursor:pointer;">Next →</button>
    <button id="back-to-infer-modal" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Back</button>
  </div>
</div>



<!-- SUBSCRIBE / PLANS -->
<div class="step-panel" data-step="4" style="display:none;">
  <h2>CHOOSE YOUR PLAN</h2>
  <p style="color:rgba(255,255,255,0.7)">Select the subscription plan for your agent.</p>

  <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;">
    <div class="plan-btn-modal" data-plan="standard" style="flex:1;padding:14px;border:1px solid rgba(255,255,255,0.2);border-radius:12px;cursor:pointer;text-align:center;">
      <h3>Standard</h3>
      <p style="color:rgba(255,255,255,0.7)">Basic features for small teams</p>
      <strong>$29/mo</strong>
    </div>
    <div class="plan-btn-modal" data-plan="pro" style="flex:1;padding:14px;border:1px solid rgba(255,255,255,0.2);border-radius:12px;cursor:pointer;text-align:center;">
      <h3>Pro</h3>
      <p style="color:rgba(255,255,255,0.7)">Advanced features for growing teams</p>
      <strong>$59/mo</strong>
    </div>
    <div class="plan-btn-modal" data-plan="enterprise" style="flex:1;padding:14px;border:1px solid rgba(255,255,255,0.2);border-radius:12px;cursor:pointer;text-align:center;">
      <h3>Enterprise</h3>
      <p style="color:rgba(255,255,255,0.7)">Full features for large organizations</p>
      <strong>Custom pricing</strong>
    </div>
  </div>

  <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;">
    <button id="finish-modal" style="display:none;padding:10px 14px;background:#6f8cff;border:none;border-radius:10px;color:white;cursor:pointer;">Finish</button>
    <button id="back-to-share-modal" style="padding:10px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;cursor:pointer;">Back</button>
  </div>
</div>




    </div>
  </div>
</div>
<script>
  const modal = document.getElementById('onboarding-modal');
  const btnOpen = document.getElementById('open-onboarding');
  const btnClose = document.getElementById('close-onboarding');

  btnOpen.addEventListener('click', ()=>{
    modal.style.display='flex';
  });

  btnClose.addEventListener('click', ()=>{
    modal.style.display='none';
  });

  // Optionnel: clic en dehors du modal pour fermer
  modal.addEventListener('click', (e)=>{
    if(e.target===modal) modal.style.display='none';
  });
</script>

<script>
  // -------------------------
  // Multi-step onboarding modal
  // -------------------------

  // Steps logic
  const stepsMetaModal = ['REGISTER','COLLECT','INFERENCES','SHARE','SUBSCRIBE','TEST & DEPLOY'];
  const panelsModal = Array.from(document.querySelectorAll('.step-panel'));
  let stateModal = { current: 0, completed: [] };

  function showPanel(i){
    panelsModal.forEach(p=>p.style.display='none');
    const pan = panelsModal[i];
    if(pan) pan.style.display='block';
    stateModal.current = i;
  }

  function goToStep(i){ showPanel(i); }

  // Initialize: all hidden except first step
  showPanel(0);

document.addEventListener('DOMContentLoaded', () => {
  // récupérations sûres (peuvent être null si HTML différent)
  const agentInput = document.getElementById('agent_name_modal');
  const toCollectBtn = document.getElementById('to-collect-modal');

  // fallback si goToStep/showPanel sont définis ailleurs (global)
  const hasGlobalGo = typeof window.goToStep === 'function';
  const hasGlobalShow = typeof window.showPanel === 'function';

  // fallback minimal: expose simple showPanel/goToStep si absent
  if (!hasGlobalShow || !hasGlobalGo) {
    // build local panels list only if needed
    const localPanels = Array.from(document.querySelectorAll('.step-panel'));
    window.showPanel = window.showPanel || function(i){
      localPanels.forEach(p => p.style.display = 'none');
      if (localPanels[i]) localPanels[i].style.display = 'block';
      // keep a simple state record if not present
      window.stateModal = window.stateModal || { current: 0, completed: [] };
      window.stateModal.current = i;
      // update tiny top-steps UI if exists
      try { if (typeof window.renderTop === 'function') window.renderTop(); } catch(e){}
    };
    window.goToStep = window.goToStep || function(i){ window.showPanel(i); };
    // ensure initial panel displayed
    window.showPanel(0);
  }

  // Safety: if elements missing, log and stop early
  if (!agentInput || !toCollectBtn) {
    console.warn('Agent input or Continue button not found (agent_name_modal, to-collect-modal).');
    return;
  }

  // Show/hide Continue depending on value (on load and on input)
  function updateContinueVisibility() {
    const v = (agentInput.value || '').trim();
    toCollectBtn.style.display = v ? 'inline-block' : 'none';
  }
  updateContinueVisibility();
  agentInput.addEventListener('input', updateContinueVisibility);

  // Click handler for Continue -> go to step 1
  toCollectBtn.addEventListener('click', (e) => {
    e.preventDefault();
    // mark completed step in global state if present
    window.stateModal = window.stateModal || { current:0, completed:[] };
    if (!Array.isArray(window.stateModal.completed)) window.stateModal.completed = [];
    if (!window.stateModal.completed.includes(0)) window.stateModal.completed.push(0);

    // call global navigation if available
    if (typeof window.goToStep === 'function') {
      window.goToStep(1);
    } else if (typeof window.showPanel === 'function') {
      window.showPanel(1);
    } else {
      // fallback manual: hide current panel and show next
      const panels = Array.from(document.querySelectorAll('.step-panel'));
      panels.forEach(p => p.style.display = 'none');
      if (panels[1]) panels[1].style.display = 'block';
    }
  });

  // Accessibility: allow Enter on input to trigger continue if present
  agentInput.addEventListener('keydown', (ev) => {
    if ((ev.key === 'Enter' || ev.key === 'Return') && (agentInput.value || '').trim()) {
      ev.preventDefault();
      toCollectBtn.click();
    }
  });
});

  // Next → COLLECT
  toCollectModal.addEventListener('click', ()=>{
    stateModal.completed.push(0);
    goToStep(1);
  });

  // -------------------------
  // COLLECT step
  // -------------------------
  const resourcesModal = [];
const resListModal = document.getElementById('resources_list_modal');
const addResBtnModal = document.getElementById('add_res_modal'); // <== corriger l'id
const saveResBtnModal = document.getElementById('save_res_modal'); // <-- correspond au HTML

  function toggleSaveResourceBtnModal(){
    if(resourcesModal.length>0) saveResBtnModal.classList.remove('hidden');
    else saveResBtnModal.classList.add('hidden');
  }

  function renderResourcesModal(){
    resListModal.innerHTML = '';
    resourcesModal.forEach((r,idx)=>{
      const item = document.createElement('div');
      item.className='res-item';
      const fav = `https://www.google.com/s2/favicons?sz=64&domain=${(new URL(r.url)).hostname}`;
      item.innerHTML = `<img src="${fav}" alt="favicon" onerror="this.style.opacity=0.2">
        <div style="flex:1">
          <div style="font-weight:700"><a href="${r.url}" target="_blank">${r.name}</a></div>
          <div style="font-size:13px;color:rgba(255,255,255,0.7)">${r.url}</div>
        </div>
        <div class="cls">${r.class}</div>
        <div><button data-idx="${idx}" class="btn ghost">Delete</button></div>`;
      resListModal.appendChild(item);
    });
Array.from(resListModal.querySelectorAll('button')).forEach(btn => {
  btn.addEventListener('click', (e) => {
    const i = Number(e.currentTarget.dataset.idx);
    resourcesModal.splice(i, 1);
    renderResourcesModal();
    toggleSaveResBtnModal(); // <-- masque le bouton si plus rien
  });
});
    toggleSaveResourceBtnModal();
  }

addResBtnModal.addEventListener('click', (e) => {
  e.preventDefault();
  const name = document.getElementById('res_name_modal').value.trim();
  const url = document.getElementById('res_url_modal').value.trim();
  const cls = document.getElementById('res_class_modal').value;
  if (!name || !url) return alert('Please provide name and url');
  if (resourcesModal.length >= 30) return alert('Max 30 resources allowed');
  try { new URL(url); } catch (err) { return alert('URL is invalid'); }

  resourcesModal.push({ name, url, class: cls });
  document.getElementById('res_name_modal').value = '';
  document.getElementById('res_url_modal').value = '';
  renderResourcesModal();
  toggleSaveResBtnModal(); // <-- affiche le bouton
});


  saveResBtnModal.addEventListener('click', ()=>{
    if(resourcesModal.length===0) return alert('Add at least one resource to continue');
    localStorage.setItem('finn_resources_modal', JSON.stringify(resourcesModal));
    stateModal.completed.push(1);
    goToStep(2);
  });

// -------------------------
// INFERENCES step
// -------------------------
const guidelinesModal = document.getElementById('guidelines_modal');
const supportEmailModal = document.getElementById('support_email_modal');
const supportPhoneModal = document.getElementById('support_phone_modal');
const supportUrlModal = document.getElementById('support_url_modal');
const toShareBtnModal = document.getElementById('to-share-modal');
const backToCollectModal = document.getElementById('back-to-collect-modal');

function validateInferModal() {
  const g = guidelinesModal.value.trim();
  const e = supportEmailModal.value.trim();
  const p = supportPhoneModal.value.trim();
  const u = supportUrlModal.value.trim();
  const ok = g && e && p && u;
  toShareBtnModal.style.display = ok ? 'inline-block' : 'none';
}

// Lancer la validation à chaque input
[guidelinesModal, supportEmailModal, supportPhoneModal, supportUrlModal].forEach(el => {
  el.addEventListener('input', validateInferModal);
});

// Next → SHARE
toShareBtnModal.addEventListener('click', () => {
  const g = guidelinesModal.value.trim();
  if (!g) return alert('Please provide guidelines');
  localStorage.setItem('finn_guidelines_modal', JSON.stringify({guidelines:g}));
  stateModal.completed.push(2);
  goToStep(3);
});

// Back → COLLECT
backToCollectModal.addEventListener('click', () => goToStep(1));


// -------------------------
// SHARE step
// -------------------------
const audButtonsModal = Array.from(document.querySelectorAll('.aud-btn-modal'));
const chButtonsModal = Array.from(document.querySelectorAll('.ch-btn-modal'));
const toSubscribeBtnModal = document.getElementById('to-subscribe-modal');
const backToInferModal = document.getElementById('back-to-infer-modal');

let selectedAudienceModal = null;
let selectedChannelModal = null;

function updateShareStateModal() {
  // visuel sélection
  audButtonsModal.forEach(b => {
    if(b.dataset.audience === selectedAudienceModal){
      b.style.background = '#6f8cff';
      b.style.color = 'white';
    } else {
      b.style.background = 'transparent';
      b.style.color = 'white';
    }
  });

  chButtonsModal.forEach(b => {
    if(b.dataset.channel === selectedChannelModal){
      b.style.background = '#6f8cff';
      b.style.color = 'white';
    } else {
      b.style.background = 'transparent';
      b.style.color = 'white';
    }
  });

  // bouton Next → visible si les deux choix sont faits
  toSubscribeBtnModal.style.display = (selectedAudienceModal && selectedChannelModal) ? 'inline-block' : 'none';
}

// sélection audience
audButtonsModal.forEach(b => {
  b.addEventListener('click', () => {
    selectedAudienceModal = (b.dataset.audience === selectedAudienceModal) ? null : b.dataset.audience;
    updateShareStateModal();
  });
});

// sélection channel
chButtonsModal.forEach(b => {
  b.addEventListener('click', () => {
    selectedChannelModal = (b.dataset.channel === selectedChannelModal) ? null : b.dataset.channel;
    updateShareStateModal();
  });
});

// Next → SUBSCRIBE
toSubscribeBtnModal.addEventListener('click', () => {
  stateModal.completed.push(3);
  goToStep(4);
});

// Back → INFERENCES
backToInferModal.addEventListener('click', () => goToStep(2));


  // -------------------------
  // SUBSCRIBE step
  // -------------------------
  document.getElementById('finish').addEventListener('click', ()=>{
    stateModal.completed.push(4);
    alert('Onboarding completed (demo).');
    goToStep(0); stateModal.completed=[];
  });

function toggleSaveResBtnModal() {
  if (resourcesModal.length > 0) {
    saveResBtnModal.style.display = 'inline-block';
  } else {
    saveResBtnModal.style.display = 'none';
  }
}

// -------------------------
// SUBSCRIBE / PLANS step
// -------------------------
const planButtonsModal = Array.from(document.querySelectorAll('.plan-btn-modal'));
const finishBtnModal = document.getElementById('finish-modal');
const backToShareModal = document.getElementById('back-to-share-modal');

let selectedPlanModal = null;

function updatePlanSelection() {
  planButtonsModal.forEach(btn => {
    if(btn.dataset.plan === selectedPlanModal){
      btn.style.background = '#6f8cff';
      btn.style.color = 'white';
    } else {
      btn.style.background = 'transparent';
      btn.style.color = 'white';
    }
  });
  finishBtnModal.style.display = selectedPlanModal ? 'inline-block' : 'none';
}

planButtonsModal.forEach(btn => {
  btn.addEventListener('click', () => {
    selectedPlanModal = (btn.dataset.plan === selectedPlanModal) ? null : btn.dataset.plan;
    updatePlanSelection();
  });
});

finishBtnModal.addEventListener('click', () => {
  if(!selectedPlanModal) return alert('Please select a plan');
  stateModal.completed.push(4);
  alert(`Onboarding completed! You chose the ${selectedPlanModal} plan.`);
  goToStep(0); 
  stateModal.completed = [];
  // reset selections if needed
  selectedPlanModal = null;
  updatePlanSelection();
});

backToShareModal.addEventListener('click', () => goToStep(3));


</script>




        </div>
      </div>
      <div class="hero-right">
        <img src="https://images.unsplash.com/photo-1526378720793-6c1d3f0d2a3f?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="Hero image" />
      </div>
    </section>

    <!-- SECTION 2 -->
    <section class="feature-hero">
      <div class="bg" style="background-image:url('https://images.unsplash.com/photo-1531297484001-80022131f5a1?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder')"></div>
      <div class="overlay">
        <div class="content">
          <h2>Trusted by teams worldwide</h2>
          <p class="lead">Integrates with ChatGPT API and Supabase for secure, scalable deployments.</p>
          <div style="margin-top:12px"><button class="btn">Get started</button></div>
        </div>
      </div>
    </section>

    <!-- SECTION 3 -->
    <section class="three-cols">
      <div class="card-3">
        <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="icon">
        <h3>Fast setup</h3>
        <p class="muted">From onboarding to live in minutes with guided steps.</p>
      </div>
      <div class="card-3">
        <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="icon">
        <h3>Custom guidelines</h3>
        <p class="muted">Define what your agent can and can't say with prompt guidelines.</p>
      </div>
      <div class="card-3">
        <img src="https://images.unsplash.com/photo-1526374981155-8f0b5d6b3b7d?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder" alt="icon">
        <h3>Secure storage</h3>
        <p class="muted">Store resources and settings in Supabase with fine-grained control.</p>
      </div>
    </section>

    <!-- SECTION 4 -->
    <section class="six-col"></section>

    <!-- SECTION 5 -->
    <section class="footer-hero">
      <div class="bg" style="background-image:url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=placeholder')"></div>
      <div class="overlay">
        <div class="inner">
          <h2>Ready to scale with AI?</h2>
          <p class="lead">Start with a trial agent and tune it to your business workflows.</p>
          <div style="margin-top:14px;display:flex;gap:12px">
            <button class="btn">Start free trial</button>
            <button class="btn" id="open-onboarding-2">Create an agent</button>
          </div>
          <div class="links">
            © 2025 Finn — <a href="#">Terms</a> · <a href="#">Privacy</a> · <a href="#">Contact</a>
          </div>
        </div>
      </div>
    </section>

  </div>

  <script>
    const words=['Business','Commercial','Sales','Project'];
    const target=document.getElementById('typed-target');
    let wIndex=0,cIndex=0;
    function typeOnce(){
      const w=words[wIndex];
      if(cIndex<=w.length){
        target.textContent=w.slice(0,cIndex);
        cIndex++;
        setTimeout(typeOnce,120);
      }else{
        setTimeout(()=>{wIndex=(wIndex+1)%words.length;cIndex=0;typeOnce();},900);
      }
    }
    typeOnce();

    const sixCol=document.querySelector('.six-col');
    const items=[
      ['https://images.unsplash.com/photo-1545239351-1141bd82e8a6?q=80&w=800','Integrations','Connect your stack'],
      ['https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=800','Analytics','Measure performance'],
      ['https://images.unsplash.com/photo-1505751172876-fa1923c5c528?q=80&w=800','Multilingual','Support multiple languages'],
      ['https://images.unsplash.com/photo-1498050108023-c5249f4df085?q=80&w=800','Security','Enterprise-ready'],
      ['https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=800','Scalability','Grow with traffic'],
      ['https://images.unsplash.com/photo-1507679799987-c73779587ccf?q=80&w=800','Support','Email & phone help'],
      ['https://images.unsplash.com/photo-1517694712202-14dd9538aa97?q=80&w=800','Customization','Fine-tune prompts'],
      ['https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=800','Hosting','Managed hosting'],
      ['https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=800','Embeddable','Works on your site'],
      ['https://images.unsplash.com/photo-1532619187600-7b2a5d2c2e0b?q=80&w=800','Compliance','GDPR-ready options'],
      ['https://images.unsplash.com/photo-1475721027785-f74eccf877e2?q=80&w=800','Team Access','Invite teammates'],
      ['https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=800','Performance','Optimized prompts']
    ];

    for(let col=0;col<6;col++){
      const c=document.createElement('div');c.className='col';
      const i1=items[col*2];const i2=items[col*2+1];
      [i1,i2].forEach(it=>{
        const el=document.createElement('div');el.className='item';
        el.innerHTML=`<img src="${it[0]}" alt="${it[1]}"><div class="meta"><b>${it[1]}</b><span class="muted">${it[2]}</span></div>`;
        c.appendChild(el);
      });
      sixCol.appendChild(c);
    }


  </script>



</body>
</html>
